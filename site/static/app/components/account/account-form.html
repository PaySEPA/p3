<form class="well form-horizontal">
  <fieldset>
    <br-input br-model="model.account.label"
      br-options="{icon: 'fa-tag', name: 'label', label: 'Name'}">
      Enter a name for your financial account, for instance 'primary' or 'secondary'.
      <span ng-hide="model.editing">The name you choose will become part of your account URL:</span>
    </br-input>
    <div class="form-group" ng-hide="model.editing">
      <div class="col-sm-offset-3 col-sm-8">
        <p><small><span ng-show="model.identity.id">{{model.identity.id}}</span><span
          ng-hide="model.identity.id">{{model.baseUrl}}/i/</span><span
          ng-hide="model.identity.id"
          class="slug">{{model.identity.sysSlug || 'IDENTITY-NAME'}}</span>/accounts/</small><input
          type="text" maxlength="32"
          data-binding="sysSlug" class="slug" name="slug"
          placeholder="ACCOUNT-NAME"
          data-slug-in="model.account.label" ng-model="model.account.sysSlug" /></p>
        <div data-duplicate-checker="model.account.sysSlug"
          data-duplicate-checker-type="financial-account"
          data-duplicate-checker-owner="{{model.identity.id || (model.baseUrl+'/i/'+model.identity.slug)}}"
          data-duplicate-checker-available="This account name is available!"
          data-duplicate-checker-invalid="Account name is invalid."
          data-duplicate-checker-taken="Account name has already been taken."
          data-duplicate-checker-checking="Checking Availability..."
          data-duplicate-checker-result="model.accountSlugAvailable">
        </div>
      </div>
    </div>

    <br-select br-model="model.accountVisibility"
      br-items="[{id: 'hidden', display: 'Hidden'}, {id: 'public', display: 'Public'}]"
      br-display-item="item.display"
      br-options="{icon: 'fa-eye', name: 'visibility', label: 'Visibility', key: 'id'}">
      Choose if the account is public or private.
    </br-select>

    <br-select ng-hide="model.editing" br-model="model.account.currency"
      br-items="[{id: 'USD', display: 'US Dollars $'}]" br-display-item="item.display"
      br-options="{icon: 'fa-money', name: 'currency', label: 'Currency', key: 'id'}">
      Choose the currency for the account. This can not be changed after an account is created.
    </br-select>

    <br-input ng-hide="!model.editing" br-model="model.account.creditLimit"
      br-options="{icon: 'fa-money', name: 'creditLimit', label: 'Credit Limit', disabled: true}">
      Choose a credit limit for this account. Other factors may reduce your maximum available credit.
    </br-input>

    <div ng-hide="!model.editing" class="form-group">
      <label class="control-label col-sm-5" for="backups">
        External Payment Method
        <a data-help-toggle="model.help.backupSource">
          <i class="fa fa-question-circle"></i>
        </a>
      </label>
      <label class="radio-inline">
        <input type="radio" name="enable-backup-source"
          ng-value="true" ng-model="model.backupSourceEnabled" />
        Enable
      </label>
      <label class="radio-inline">
        <input type="radio" name="enable-backup-source"
          ng-value="false" ng-model="model.backupSourceEnabled" />
        Disable
      </label>
      <div ng-show="model.help.backupSource.show" style="margin-top: 10px"
        class="col-sm-offset-3 col-sm-8">
        <p class="help-block br-fadein br-fadeout">
          An external payment method is used to automatically pay back used
          credit on its due date and to provide funds if an instant transfer
          is required to complete a purchase.
        </p>
      </div>
      <div style="margin-top: 10px"></div>
      <div ng-show="model.backupSourceEnabled">
        <div data-payment-token-selector data-selected="model.backupSource"
          data-instant="true"></div>
      </div>
      <div ng-hide="model.backupSourceEnabled || model.creditDisabled || model.fullyBackedCredit"
        class="alert alert-warning">
        <strong>Warning:</strong>
        Use of your credit line and instant transfer will be disabled until a payment method is enabled.
      </div>

      <!--
      <div data-payment-token-list data-instant="true" data-id-list="model.account.backupSource"></div>
      <p ng-show="model.help.backups.show"
        class="help-block col-sm-offset-3 col-sm-8 br-fadein br-fadeout">
        Choose the payment methods that are used to fund this account.
      </p>
      -->
    </div>
    <div ng-hide="!editing" class="form-group">
      <label class="control-label col-sm-3" for="sysAllowInstantTransfer">
        Instant Transfer
        <a data-help-toggle="model.help.sysAllowInstantTransfer">
          <i class="fa fa-question-circle"></i>
        </a>
      </label>
      <label class="radio inline">
        <input type="radio" name="enable-instant-transfer"
          ng-value="true" ng-model="model.account.sysAllowInstantTransfer" />
        Enable
      </label>
      <label class="radio inline">
        <input type="radio" name="enable-instant-transfer"
          ng-value="false" ng-model="model.account.sysAllowInstantTransfer" />
        Disable
      </label>
      <div ng-show="model.help.sysAllowInstantTransfer.show"
        style="margin-top: 10px" class="col-sm-offset-3 col-sm-8">
        <p class="help-block br-fadein br-fadeout">
          Enabling instant transfer will cause purchases that exceed your
          credit limit to be performed using the payment method of your
          choice. Extra fees will be applied per purchase.
        </p>
      </div>
    </div>

    <br-input ng-hide="!model.editing" br-model="model.account.sysMinInstantTransfer"
      br-options="{icon: 'fa-money', name: 'sysMinInstantTransfer', label: 'Minimum Amount'}">
      Please enter the minimum purchase amount required in order to trigger an
      instant transfer.
      <br/><br/>
      You must enter a valid monetary amount like 1 or 5.00.
    </br-input>
  </fieldset>
</form>
