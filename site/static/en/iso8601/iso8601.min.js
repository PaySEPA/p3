(function(e,t){function n(e,t){var n=t?t:false;var r=[2,3,4,5,7,8,9];var i=[0,0,0,0,0,0,0];var s=[0,12,4,7,24,60,60];var o;e=e.toUpperCase();if(!e)return i;else if(typeof e!=="string")throw new Error("Invalid iso8601 period string '"+e+"'");if(o=/^P((\d+Y)?(\d+M)?(\d+W)?(\d+D)?)?(T(\d+H)?(\d+M)?(\d+S)?)?$/.exec(e)){for(var u=0;u<r.length;u++){var a=r[u];i[u]=o[a]?+o[a].replace(/[A-Za-z]+/g,""):0}}else{throw new Error("String '"+e+"' is not a valid ISO8601 period.")}if(n){for(var u=i.length-1;u>0;u--){if(i[u]>=s[u]){i[u-1]=i[u-1]+Math.floor(i[u]/s[u]);i[u]=i[u]%s[u]}}}return i}if(!e.Period)e.Period={};e.version="0.2";e.w3cDate=function(e){function n(e){return e<10?"0"+e:""+e}if(e===t||e===null){e=new Date}else if(typeof e==="number"||typeof e==="string"){e=new Date(e)}return""+e.getUTCFullYear()+"-"+n(e.getUTCMonth()+1)+"-",n(e.getUTCDate())+"T"+n(e.getUTCHours())+":"+n(e.getUTCMinutes())+":"+n(e.getUTCSeconds())+"Z"};e.Period.parse=function(e,t){return n(e,t)};e.Period.parseToTotalSeconds=function(e){var t=[31104e3,2592e3,604800,86400,3600,60,1];var r=n(e);var i=0;for(var s=0;s<r.length;s++){i+=r[s]*t[s]}return i};e.Period.isValid=function(e){try{n(e);return true}catch(t){return false}};e.Period.parseToString=function(e,t,r,i){var s=["","","","","","",""];var o=n(e,i);if(!t)t=["year","month","week","day","hour","minute","second"];if(!r)r=["years","months","weeks","days","hours","minutes","seconds"];for(var u=0;u<o.length;u++){if(o[u]>0){if(o[u]==1)s[u]=o[u]+" "+t[u];else s[u]=o[u]+" "+r[u]}}return s.join(" ").trim().replace(/[ ]{2,}/g," ")};})(window.iso8601=window.iso8601||{})